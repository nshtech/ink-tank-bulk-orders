{"ast":null,"code":"import _objectSpread from\"/Users/carolinelobel/Documents/GitHub/ink-tank-bulk-orders/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/carolinelobel/Documents/GitHub/ink-tank-bulk-orders/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/carolinelobel/Documents/GitHub/ink-tank-bulk-orders/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/carolinelobel/Documents/GitHub/ink-tank-bulk-orders/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/carolinelobel/Documents/GitHub/ink-tank-bulk-orders/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/carolinelobel/Documents/GitHub/ink-tank-bulk-orders/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/carolinelobel/Documents/GitHub/ink-tank-bulk-orders/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button}from'primereact/button';import{Dropdown}from'primereact/dropdown';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{Chart}from'primereact/chart';import{InputText}from'primereact/inputtext';import{Editor}from'primereact/editor';import{ToggleButton}from'primereact/togglebutton';import{RadioButton}from'primereact/radiobutton';import firebase from'firebase/app';import'firebase/database';import validator from'validator';import customerData from'../customers.json';// import classNames from 'classnames';\nimport'../Dashboard.css';//import { arrayToHash } from '@fullcalendar/core/util/object';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CustomerSearch=/*#__PURE__*/function(_Component){_inherits(CustomerSearch,_Component);var _super=_createSuper(CustomerSearch);function CustomerSearch(){var _this;_classCallCheck(this,CustomerSearch);_this=_super.call(this);_this.state={customers:[],orders:[],selectedCustomer:null,editing:false,newplanYear:null,newplanQuarter:null,newmax:null,newreshall:null,newphone:null,newemail:null,newactive:null,planSelectYear:[{label:'2020-2021',value:'2020-2021'},{label:'2021-2022',value:'2021-2022'},{label:'2022-2023',value:'2022-2023'},{label:'2023-2024',value:'2023-2024'}],planSelectQuarter:[{label:'Full Year',value:'-F-W-S'},{label:'Winter/Spring Quarter',value:'-W-S'},{label:'Fall Quarter',value:'-F'},{label:'Winter Quarter',value:'-W'},{label:'Spring Quarter',value:'-S'}],planSelectWeight:[{label:'15 lb/week',value:'15'},{label:'20 lb/week',value:'20'},{label:'25 lb/week',value:'25'}],planSelectReshall:[{label:'Choose later',value:'Choose later'},{label:'560 Lincoln',value:'560 Lincoln'},{label:'720 Emerson',value:'720 Emerson'},{label:'1715 Chicago',value:'1715 Chicago'},{label:'1838 Chicago',value:'1838 Chicago'},{label:'1856 Orrington',value:'1856 Orrington'},{label:'2303 Sheridan',value:'2303 Sheridan'},{label:'Ayers',value:'Ayers'},{label:'Allison',value:'Allison'},{label:'Bobb',value:'Bobb'},{label:'Chapin',value:'Chapin'},{label:'East Fairchild',value:'East Fairchild'},{label:'Elder',value:'Elder'},{label:'West Fairchild',value:'West Fairchild'},{label:'Foster-Walker (PLEX)',value:'Foster-Walker (PLEX)'},{label:'Goodrich',value:'Goodrich'},{label:'Hobart',value:'Hobart'},{label:'Jones',value:'Jones'},{label:'Kemper',value:'Kemper'},{label:'McCulloch',value:'McCulloch'},{label:'PARC (North Mid Quads)',value:'PARC (North Mid Quads)'},{label:'Rogers House',value:'Rogers House'},{label:'Sargent',value:'Sargent'},{label:'Shepard Residential College (South Mid Quads)',value:'Shepard Residential College (South Mid Quads)'},{label:'Shepard Hall',value:'Shepard Hall'},{label:'Slivka',value:'Slivka'},{label:'Willard',value:'Willard'},{label:'Delta Gamma',value:'Delta Gamma'},{label:'Kappa Kappa Gamma',value:'Kappa Kappa Gamma'},{label:'Zeta Beta Tau (ZBT)',value:'Zeta Beta Tau (ZBT)'}]};_this.edit=_this.edit.bind(_assertThisInitialized(_this));_this.save=_this.save.bind(_assertThisInitialized(_this));_this.onPlanYearValueChange=_this.onPlanYearValueChange.bind(_assertThisInitialized(_this));_this.onPlanQuarterValueChange=_this.onPlanQuarterValueChange.bind(_assertThisInitialized(_this));_this.getCustomerHistory=_this.getCustomerHistory.bind(_assertThisInitialized(_this));_this.displayPlanQuarters=_this.displayPlanQuarters.bind(_assertThisInitialized(_this));_this.resetNewInfo=_this.resetNewInfo.bind(_assertThisInitialized(_this));return _this;}_createClass(CustomerSearch,[{key:\"edit\",value:function edit(){this.setState({editing:true});this.resetNewInfo();}},{key:\"save\",value:function save(customer){this.setState({editing:false});//console.log(this.state.newplan)\nvar allcustomers=_toConsumableArray(this.state.customers);var newcustomer=_objectSpread({},this.state.selectedCustomer);if(this.state.newplanYear&&this.state.newplanQuarter){newcustomer.plan=this.state.newplanYear+this.state.newplanQuarter;//console.log('newplanQuarter: ', this.state.newplanQuarter);\n//console.log('newplanYear', this.state.newplanYear)\nfirebase.database().ref('/customers/'+customer.id+'/plan').set(newcustomer.plan);}else if(this.state.newplanYear){newcustomer.plan=this.state.newplanYear+customer.plan.substring(9);//console.log('newcustomer.plan: ', newcustomer.plan);\n//console.log('newplanYear', this.state.newplanYear)\n//console.log('customer quarter: ', customer.plan.substring(9));\nfirebase.database().ref('/customers/'+customer.id+'/plan').set(newcustomer.plan);}else if(this.state.newplanQuarter){newcustomer.plan=customer.plan.substring(0,9)+this.state.newplanQuarter;//console.log('newcustomer.plan: ', newcustomer.plan);\n//console.log('customer year', customer.plan.substring(0,9))\n//console.log('newplanQuarter: ', this.state.newplanQuarter);\nfirebase.database().ref('/customers/'+customer.id+'/plan').set(newcustomer.plan);}if(this.state.newmax){newcustomer.maxweight=this.state.newmax;firebase.database().ref('/customers/'+customer.id+'/maxweight').set(newcustomer.maxweight);}if(this.state.newreshall){newcustomer.reshall=this.state.newreshall;firebase.database().ref('/customers/'+customer.id+'/reshall').set(newcustomer.reshall);}if(this.state.newphone){newcustomer.phone=this.state.newphone;firebase.database().ref('/customers/'+customer.id+'/phone').set(newcustomer.phone);}if(this.state.newemail){newcustomer.email=this.state.newemail;firebase.database().ref('/customers/'+customer.id+'/email').set(newcustomer.email);}if(this.state.newactive){newcustomer.activestatus=this.state.newactive;firebase.database().ref('/customers/'+customer.id+'/activestatus').set(newcustomer.activestatus);}var count=0;var individual=null;allcustomers.map(function(each){if(newcustomer.id===each.id){individual=_objectSpread({},allcustomers[count]);individual=newcustomer;allcustomers[count]=individual;}count=count+1;});this.setState({customers:allcustomers});this.setState({selectedCustomer:newcustomer});}//CUSTOMER INFORMATION EDITING\n},{key:\"onPlanYearValueChange\",value:function onPlanYearValueChange(value){//console.log('newPlanYear: ', value)\nthis.setState({newplanYear:value});}},{key:\"onPlanQuarterValueChange\",value:function onPlanQuarterValueChange(value){//console.log('newPlanQuarter: ', value)\nthis.setState({newplanQuarter:value});}},{key:\"onMaxweightValueChange\",value:function onMaxweightValueChange(value){this.setState({newmax:value});}},{key:\"onReshallValueChange\",value:function onReshallValueChange(value){this.setState({newreshall:value});}},{key:\"onPhoneValueChange\",value:function onPhoneValueChange(value){if(value[3]==='-'&&value[7]==='-'&&value.length===12){this.setState({newphone:value});}}},{key:\"onEmailValueChange\",value:function onEmailValueChange(value){if(value.includes('@')&&value.includes('.')){this.setState({newemail:value});}}},{key:\"onActiveValueChange\",value:function onActiveValueChange(value){this.setState({newactive:value});}},{key:\"getCustomerHistory\",value:function getCustomerHistory(customer){var history=[];firebase.database().ref('/orders').on('value',function(snapshot){snapshot.forEach(function(childSnapshot){var cid=childSnapshot.key;var res=cid.split('-');//console.log(res[1])\nif(res[1]===customer.id){history.push(childSnapshot.toJSON());}});});//console.log(history)\nreturn history;}},{key:\"displayPlanQuarters\",value:function displayPlanQuarters(customerPlan){if(customerPlan){if(customerPlan==='F'){var result='Fall Quarter';return result;}else if(customerPlan==='W'){var _result='Winter Quarter';return _result;}else if(customerPlan==='S'){var _result2='Spring Quarter';return _result2;}else if(customerPlan==='F-W-S'){var _result3='Full Year';return _result3;}}}},{key:\"resetNewInfo\",value:function resetNewInfo(){this.setState({newplanYear:null});this.setState({newplanQuarter:null});this.setState({newmax:null});this.setState({newreshall:null});this.setState({newphone:null});this.setState({newemail:null});this.setState({newactive:null});}/* --------------- Filters ---------------- */},{key:\"componentDidMount\",value:function componentDidMount(){var customerArray=[];firebase.database().ref('/customers').on('value',function(snapshot){snapshot.forEach(function(childSnapshot){customerArray.push(childSnapshot.toJSON());});});this.setState({customers:customerArray});var orderArray=[];firebase.database().ref('/orders').on('value',function(snapshot){snapshot.forEach(function(childSnapshot){orderArray.push(childSnapshot.toJSON());});});this.setState({orders:orderArray});}},{key:\"render\",value:function render(){var _this2=this;if(this.state.selectedCustomer){var header=/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'left'}});var customer=this.state.selectedCustomer;var history=this.getCustomerHistory(customer);var laundryStatusDisplay={'picked-up':'picked up','delivered-to-SH':'delivered to SH','delivered-to-dorm':'delivered to dorm','out-of-service':'out of service','bag-missing':'bag missing'};if(this.state.editing){//this.setState({ newplanYear: null });\n//this.setState({ newplanQuarter: null });\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card card-search\",children:/*#__PURE__*/_jsxs(DataTable,{value:this.state.customers,ref:function ref(el){_this2.dt=el;},style:{marginBottom:'20px'},selectionMode:\"single\",responsive:true,autoLayout:true,selection:this.state.selectedCustomer,onSelectionChange:function onSelectionChange(e){return _this2.setState({selectedCustomer:e.value});},children:[/*#__PURE__*/_jsx(Column,{field:\"id\",header:\"ID\",sortable:true}),/*#__PURE__*/_jsx(Column,{field:\"name\",header:\"Name\",sortable:true,filter:true,filterPlaceholder:\"Search by name\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card card-list\",children:[\" \",/*#__PURE__*/_jsx(\"p\",{className:customer.activestatus,style:{marginRight:15},children:customer.activestatus}),/*#__PURE__*/_jsx(\"h1\",{children:customer.name}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"p\",{className:customer.laundrystatus,style:{marginRight:15},children:laundryStatusDisplay[customer.laundrystatus]}),/*#__PURE__*/_jsx(\"p\",{className:customer.weightstatus,style:{marginRight:15},children:customer.weightstatus})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:'50%'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em'},children:\"Account Information\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBlockStart:0,marginBlockEnd:'1em',paddingRight:15},children:[\"Customer ID: \",customer.id]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field p-grid\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstname3\",className:\"p-col-fixed\",style:{width:'110px'},children:\"Laundry Plan:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-col\",children:[/*#__PURE__*/_jsx(Dropdown,{value:this.state.newplanYear,options:this.state.planSelectYear,onChange:function onChange(e){_this2.onPlanYearValueChange(e.target.value);},placeholder:customer.plan.substring(0,9)}),/*#__PURE__*/_jsx(Dropdown,{value:this.state.newplanQuarter,options:this.state.planSelectQuarter,onChange:function onChange(e){_this2.onPlanQuarterValueChange(e.target.value);},placeholder:this.displayPlanQuarters(customer.plan.substring(10))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field p-grid\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastname3\",className:\"p-col-fixed\",style:{width:'110px'},children:\"Max Weight:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-col\",children:/*#__PURE__*/_jsx(Dropdown,{value:this.state.newmax,options:this.state.planSelectWeight,onChange:function onChange(e){_this2.onMaxweightValueChange(e.target.value);},placeholder:customer.maxweight})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field p-grid\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastname3\",className:\"p-col-fixed\",style:{width:'200px'},children:\"Active Status:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-col\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastname3\",className:\"p-col-fixed\",style:{width:'110px'},children:\"Active:\"}),/*#__PURE__*/_jsx(RadioButton,{value:\"active\",name:\"Active\",onChange:function onChange(e){return _this2.setState({newactive:e.value});},checked:customer.activestatus==='active'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-col\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastname3\",className:\"p-col-fixed\",style:{width:'110px'},children:\"Inactive:\"}),/*#__PURE__*/_jsx(RadioButton,{value:\"inactive\",name:\"Inactive\",onChange:function onChange(e){return _this2.setState({newactive:e.value});},checked:customer.activestatus==='inactive'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:'50%'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em'},children:\"Contact Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field p-grid\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstname3\",className:\"p-col-fixed\",style:{width:'120px'},children:\"Residential Hall:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-col\",children:/*#__PURE__*/_jsx(Dropdown,{value:this.state.newreshall,options:this.state.planSelectReshall,onChange:function onChange(e){_this2.onReshallValueChange(e.target.value);},placeholder:customer.reshall})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field p-grid\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastname3\",className:\"p-col-fixed\",style:{width:'120px'},children:\"Email:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-col\",children:/*#__PURE__*/_jsx(InputText,{type:\"text\",placeholder:customer.email,onChange:function onChange(e){_this2.onEmailValueChange(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field p-grid\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastname3\",className:\"p-col-fixed\",style:{width:'120px'},children:\"Phone:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-col\",children:/*#__PURE__*/_jsx(InputText,{type:\"text\",placeholder:customer.phone,onChange:function onChange(e){_this2.onPhoneValueChange(e.target.value);}})})]})]})]}),/*#__PURE__*/_jsx(Button,{type:\"button\",style:{color:'white',backgroundColor:'#6a09a4',borderColor:'#6a09a4',marginTop:30},icon:\"pi pi-save\",iconPos:\"left\",label:\"SAVE\",onClick:function onClick(){_this2.save(customer);}})]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card card-search\",children:/*#__PURE__*/_jsxs(DataTable,{value:this.state.customers,ref:function ref(el){_this2.dt=el;},style:{marginBottom:'20px'},selectionMode:\"single\",responsive:true,autoLayout:true,selection:this.state.selectedCustomer,onSelectionChange:function onSelectionChange(e){return _this2.setState({selectedCustomer:e.value});},children:[/*#__PURE__*/_jsx(Column,{field:\"id\",header:\"ID\",sortable:true,filter:true,filterPlaceholder:\"Search id\"}),/*#__PURE__*/_jsx(Column,{field:\"name\",header:\"Name\",sortable:true,filter:true,filterPlaceholder:\"Search name\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card card-list\",children:[\"  \",/*#__PURE__*/_jsx(\"p\",{className:customer.activestatus,style:{marginRight:15},children:customer.activestatus}),/*#__PURE__*/_jsx(\"h1\",{children:customer.name}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"p\",{className:customer.laundrystatus,style:{marginRight:15},children:laundryStatusDisplay[customer.laundrystatus]}),/*#__PURE__*/_jsx(\"p\",{className:customer.weightstatus,style:{marginRight:15},children:customer.weightstatus})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:'50%'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em'},children:\"Account Information\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em',paddingRight:15},children:[\"Customer ID: \",customer.id]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em',paddingRight:15},children:[\"Laundry Plan: \",customer.plan]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em',paddingRight:15},children:[\"Max Weight: \",customer.maxweight]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em',paddingRight:15},children:[\"Overages: \",customer.quarter_overages]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:'50%'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em'},children:\"Contact Information\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em',paddingRight:15},children:[\"Residential Hall: \",customer.reshall]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em',paddingRight:15},children:[\"Email: \",customer.email]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBlockStart:0,marginBlockEnd:'0.25em',paddingRight:15},children:[\"Phone: \",customer.phone]})]})]}),/*#__PURE__*/_jsx(Button,{type:\"button\",style:{color:'white',backgroundColor:'#6a09a4',borderColor:'#6a09a4',marginTop:30},icon:\"pi pi-pencil\",iconPos:\"left\",label:\"EDIT\",onClick:this.edit})]})]});}}else{var header=/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'left'}});return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card card-search\",children:/*#__PURE__*/_jsxs(DataTable,{value:this.state.customers,ref:function ref(el){_this2.dt=el;},style:{marginBottom:'20px'},selectionMode:\"single\",responsive:true,autoLayout:true,selection:this.state.selectedCustomer,onSelectionChange:function onSelectionChange(e){return _this2.setState({selectedCustomer:e.value});},children:[/*#__PURE__*/_jsx(Column,{field:\"id\",header:\"ID\",sortable:true,filter:true,filterPlaceholder:\"Search id\"}),/*#__PURE__*/_jsx(Column,{field:\"name\",header:\"Name\",sortable:true,filter:true,filterPlaceholder:\"Search name\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card card-list\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Select a Customer\"})})]});}}}]);return CustomerSearch;}(Component);","map":{"version":3,"sources":["/Users/carolinelobel/Documents/GitHub/ink-tank-bulk-orders/src/components/CustomerSearch.js"],"names":["React","Component","Button","Dropdown","DataTable","Column","Chart","InputText","Editor","ToggleButton","RadioButton","firebase","validator","customerData","CustomerSearch","state","customers","orders","selectedCustomer","editing","newplanYear","newplanQuarter","newmax","newreshall","newphone","newemail","newactive","planSelectYear","label","value","planSelectQuarter","planSelectWeight","planSelectReshall","edit","bind","save","onPlanYearValueChange","onPlanQuarterValueChange","getCustomerHistory","displayPlanQuarters","resetNewInfo","setState","customer","allcustomers","newcustomer","plan","database","ref","id","set","substring","maxweight","reshall","phone","email","activestatus","count","individual","map","each","length","includes","history","on","snapshot","forEach","childSnapshot","cid","key","res","split","push","toJSON","customerPlan","result","customerArray","orderArray","header","textAlign","laundryStatusDisplay","display","el","dt","marginBottom","e","marginRight","name","laundrystatus","weightstatus","minWidth","marginBlockStart","marginBlockEnd","paddingRight","width","target","onMaxweightValueChange","onReshallValueChange","onEmailValueChange","onPhoneValueChange","color","backgroundColor","borderColor","marginTop","quarter_overages"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button } from 'primereact/button';\nimport { Dropdown } from 'primereact/dropdown';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column'\nimport { Chart } from 'primereact/chart'\nimport { InputText } from 'primereact/inputtext';\nimport { Editor } from 'primereact/editor';\nimport {ToggleButton} from 'primereact/togglebutton';\nimport {RadioButton} from 'primereact/radiobutton';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport validator from 'validator'\n\n\nimport customerData from '../customers.json';\n// import classNames from 'classnames';\n\nimport '../Dashboard.css';\n//import { arrayToHash } from '@fullcalendar/core/util/object';\n\n\nexport class CustomerSearch extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            customers: [],\n            orders: [],\n            selectedCustomer: null,\n            editing: false,\n            newplanYear: null,\n            newplanQuarter: null,\n            newmax: null,\n            newreshall: null,\n            newphone: null,\n            newemail: null,\n            newactive: null,\n            planSelectYear: [\n                {label: '2020-2021', value: '2020-2021'},\n                {label: '2021-2022', value: '2021-2022'},\n                {label: '2022-2023', value: '2022-2023'},\n                {label: '2023-2024', value: '2023-2024'}\n            ],\n            planSelectQuarter: [\n                {label: 'Full Year', value: '-F-W-S'},\n                {label: 'Winter/Spring Quarter', value: '-W-S'},\n                {label: 'Fall Quarter', value: '-F'},\n                {label: 'Winter Quarter', value: '-W'},\n                {label: 'Spring Quarter', value: '-S'},\n            ],\n            planSelectWeight: [\n                {label: '15 lb/week', value: '15'},\n                {label: '20 lb/week', value: '20'},\n                {label: '25 lb/week', value: '25'},\n            ],\n            planSelectReshall:[\n                {label: 'Choose later', value: 'Choose later'},\n                {label: '560 Lincoln', value: '560 Lincoln'},\n                {label: '720 Emerson', value: '720 Emerson'},\n                {label: '1715 Chicago', value: '1715 Chicago'},\n                {label: '1838 Chicago', value: '1838 Chicago'},\n                {label: '1856 Orrington', value: '1856 Orrington'},\n                {label: '2303 Sheridan', value: '2303 Sheridan'},\n                {label: 'Ayers', value: 'Ayers'},\n                {label: 'Allison', value: 'Allison'},\n                {label: 'Bobb', value: 'Bobb'},\n                {label: 'Chapin', value: 'Chapin'},\n                {label: 'East Fairchild', value: 'East Fairchild'},\n                {label: 'Elder', value: 'Elder'},\n                {label: 'West Fairchild', value: 'West Fairchild'},\n                {label: 'Foster-Walker (PLEX)', value: 'Foster-Walker (PLEX)'},\n                {label: 'Goodrich', value: 'Goodrich'},\n                {label: 'Hobart', value: 'Hobart'},\n                {label: 'Jones', value: 'Jones'},\n                {label: 'Kemper', value: 'Kemper'},\n                {label: 'McCulloch', value: 'McCulloch'},\n                {label: 'PARC (North Mid Quads)', value: 'PARC (North Mid Quads)'},\n                {label: 'Rogers House', value: 'Rogers House'},\n                {label: 'Sargent', value: 'Sargent'},\n                {label: 'Shepard Residential College (South Mid Quads)', value: 'Shepard Residential College (South Mid Quads)'},\n                {label: 'Shepard Hall', value: 'Shepard Hall'},\n                {label: 'Slivka', value: 'Slivka'},\n                {label: 'Willard', value: 'Willard'},\n                {label: 'Delta Gamma', value: 'Delta Gamma'},\n                {label: 'Kappa Kappa Gamma', value: 'Kappa Kappa Gamma'},\n                { label: 'Zeta Beta Tau (ZBT)', value: 'Zeta Beta Tau (ZBT)'}\n            ]\n\n        };\n        this.edit = this.edit.bind(this);\n        this.save = this.save.bind(this);\n        this.onPlanYearValueChange = this.onPlanYearValueChange.bind(this)\n        this.onPlanQuarterValueChange = this.onPlanQuarterValueChange.bind(this)\n        this.getCustomerHistory = this.getCustomerHistory.bind(this)\n        this.displayPlanQuarters = this.displayPlanQuarters.bind(this)\n        this.resetNewInfo = this.resetNewInfo.bind(this)\n    }\n\n    edit() {\n        this.setState({ editing: true });\n        this.resetNewInfo();\n    }\n\n    save(customer) {\n        this.setState({ editing: false });\n        //console.log(this.state.newplan)\n        let allcustomers = [...this.state.customers];\n        let newcustomer = {...this.state.selectedCustomer};\n        if (this.state.newplanYear && this.state.newplanQuarter) {\n             newcustomer.plan = this.state.newplanYear+this.state.newplanQuarter;\n             //console.log('newplanQuarter: ', this.state.newplanQuarter);\n             //console.log('newplanYear', this.state.newplanYear)\n             firebase.database().ref('/customers/' + customer.id + '/plan').set(newcustomer.plan);\n        }\n        else if (this.state.newplanYear) {\n            newcustomer.plan = this.state.newplanYear+customer.plan.substring(9);\n            //console.log('newcustomer.plan: ', newcustomer.plan);\n            //console.log('newplanYear', this.state.newplanYear)\n            //console.log('customer quarter: ', customer.plan.substring(9));\n            firebase.database().ref('/customers/' + customer.id + '/plan').set(newcustomer.plan);\n       }\n       else if (this.state.newplanQuarter) {\n            newcustomer.plan = customer.plan.substring(0,9)+this.state.newplanQuarter;\n            //console.log('newcustomer.plan: ', newcustomer.plan);\n            //console.log('customer year', customer.plan.substring(0,9))\n            //console.log('newplanQuarter: ', this.state.newplanQuarter);\n            firebase.database().ref('/customers/' + customer.id + '/plan').set(newcustomer.plan);\n   }\n        if (this.state.newmax) {\n            newcustomer.maxweight = this.state.newmax;\n            firebase.database().ref('/customers/' + customer.id + '/maxweight').set(newcustomer.maxweight);\n       }\n        if (this.state.newreshall) {\n            newcustomer.reshall = this.state.newreshall;\n            firebase.database().ref('/customers/' + customer.id + '/reshall').set(newcustomer.reshall);\n        }\n        if (this.state.newphone) {\n            newcustomer.phone = this.state.newphone;\n            firebase.database().ref('/customers/' + customer.id + '/phone').set(newcustomer.phone);\n        }\n        if (this.state.newemail) {\n            newcustomer.email = this.state.newemail;\n            firebase.database().ref('/customers/' + customer.id + '/email').set(newcustomer.email)\n        }\n        if (this.state.newactive) {\n            newcustomer.activestatus = this.state.newactive;\n            firebase.database().ref('/customers/' + customer.id + '/activestatus').set(newcustomer.activestatus)\n        }\n        let count = 0;\n        let individual=null;\n        allcustomers.map(each => {\n            if (newcustomer.id === each.id) {\n                individual = {...allcustomers[count]};\n                individual= newcustomer;\n                allcustomers[count] = individual;\n            }\n            count = count+1\n        })\n        this.setState({ customers: allcustomers });\n        this.setState({selectedCustomer: newcustomer});\n\n    }\n\n    //CUSTOMER INFORMATION EDITING\n    onPlanYearValueChange(value) {\n        //console.log('newPlanYear: ', value)\n        this.setState({ newplanYear: value });\n    }\n    onPlanQuarterValueChange(value) {\n        //console.log('newPlanQuarter: ', value)\n        this.setState({ newplanQuarter: value });\n    }\n    onMaxweightValueChange(value) {\n        this.setState({ newmax: value });\n    }\n    onReshallValueChange(value) {\n        this.setState({ newreshall: value });\n    }\n    onPhoneValueChange(value) {\n        if(value[3] ==='-' && value[7] ==='-' && value.length===12) {\n            this.setState({ newphone: value });\n        }\n    }\n    onEmailValueChange(value) {\n        if (value.includes('@') && value.includes('.')) {\n            this.setState({ newemail: value });\n        }\n    }\n    onActiveValueChange(value) {\n        this.setState({ newactive:value})\n\n\n    }\n\n    getCustomerHistory(customer) {\n        var history = []\n        firebase.database().ref('/orders').on('value', function (snapshot) {\n            snapshot.forEach(function (childSnapshot) {\n                var cid = childSnapshot.key;\n                var res = cid.split('-');\n                //console.log(res[1])\n                if (res[1] === customer.id) {\n                    history.push(childSnapshot.toJSON())\n                }\n            });\n        });\n        //console.log(history)\n        return history;\n    }\n\n    displayPlanQuarters(customerPlan) {\n        if (customerPlan) {\n\n            if (customerPlan === 'F') {\n                const result = 'Fall Quarter';\n                return result;\n            }\n            else if (customerPlan === 'W') {\n                const result = 'Winter Quarter' ;\n                return result;\n            }\n            else if (customerPlan === 'S') {\n                const result = 'Spring Quarter' ;\n                return result;\n            }\n            else if (customerPlan === 'F-W-S') {\n                const result = 'Full Year' ;\n                return result;\n            }\n        }\n    }\n\n    resetNewInfo() {\n        this.setState({ newplanYear: null });\n        this.setState({ newplanQuarter: null });\n        this.setState({ newmax: null });\n        this.setState({ newreshall: null });\n        this.setState({ newphone: null });\n        this.setState({ newemail: null });\n        this.setState({ newactive: null })\n    }\n\n    /* --------------- Filters ---------------- */\n    componentDidMount() {\n        const customerArray = [];\n        firebase.database().ref('/customers').on('value', function (snapshot) {\n            snapshot.forEach(function (childSnapshot) {\n                customerArray.push(childSnapshot.toJSON());\n            });\n        });\n        this.setState({ customers: customerArray });\n        const orderArray = [];\n        firebase.database().ref('/orders').on('value', function (snapshot) {\n            snapshot.forEach(function (childSnapshot) {\n                orderArray.push(childSnapshot.toJSON());\n            });\n        });\n        this.setState({ orders: orderArray });\n    }\n\n    render() {\n        if (this.state.selectedCustomer) {\n            var header = <div style={{ textAlign: 'left' }}></div>\n            var customer = this.state.selectedCustomer\n            var history = this.getCustomerHistory(customer)\n            var laundryStatusDisplay = {\n                'picked-up': 'picked up',\n                'delivered-to-SH': 'delivered to SH',\n                'delivered-to-dorm': 'delivered to dorm',\n                'out-of-service': 'out of service',\n                'bag-missing': 'bag missing'\n            }\n\n\n            if (this.state.editing) {\n                \n                //this.setState({ newplanYear: null });\n                //this.setState({ newplanQuarter: null });\n                return (\n                <div style={{ display: 'flex' }}>\n                    <div className=\"card card-search\">\n                        <DataTable value={this.state.customers} ref={(el) => { this.dt = el; }} style={{ marginBottom: '20px' }} selectionMode=\"single\"\n                            responsive={true} autoLayout={true} selection={this.state.selectedCustomer} onSelectionChange={e => this.setState({ selectedCustomer: e.value })}>\n                            <Column field=\"id\" header=\"ID\" sortable={true} />\n                            <Column field=\"name\" header=\"Name\" sortable filter filterPlaceholder=\"Search by name\" />\n                        </DataTable>\n                    </div>\n                    <div className=\"card card-list\"> <p className={customer.activestatus} style={{ marginRight: 15 }}>{customer.activestatus}</p>\n                        <h1>{customer.name}</h1>\n                        <div style={{ display: 'flex' }}>\n                            <p className={customer.laundrystatus} style={{ marginRight: 15 }}>{laundryStatusDisplay[customer.laundrystatus]}</p>\n                            <p className={customer.weightstatus} style={{ marginRight: 15 }}>{customer.weightstatus}</p>\n                        </div>\n                        <div style={{ display: 'flex' }}>\n                            <div style={{ minWidth: '50%' }}>\n                                <h3 style={{ marginBlockStart: 0, marginBlockEnd: '0.25em' }}>Account Information</h3>\n                                <p style={{ marginBlockStart: 0, marginBlockEnd: '1em', paddingRight: 15 }}>Customer ID: {customer.id}</p>\n                                <div className=\"p-field p-grid\">\n                                    <label htmlFor=\"firstname3\" className=\"p-col-fixed\" style={{ width: '110px' }}>Laundry Plan:</label>\n                                    <div className=\"p-col\">\n                                        <Dropdown  value={this.state.newplanYear} options={this.state.planSelectYear} onChange={(e) => {this.onPlanYearValueChange(e.target.value);}} placeholder={customer.plan.substring(0,9)}/>\n                                        <Dropdown  value={this.state.newplanQuarter} options={this.state.planSelectQuarter} onChange={(e) => {this.onPlanQuarterValueChange(e.target.value);}} placeholder={this.displayPlanQuarters(customer.plan.substring(10))}/>\n\n                                    </div>\n                                </div>\n                                <div className=\"p-field p-grid\">\n                                    <label htmlFor=\"lastname3\" className=\"p-col-fixed\" style={{ width: '110px' }}>Max Weight:</label>\n                                    <div className=\"p-col\">\n                                    <Dropdown  value={this.state.newmax} options={this.state.planSelectWeight} onChange={(e) => {this.onMaxweightValueChange(e.target.value);}} placeholder={customer.maxweight}/>\n                                    </div>\n\n                                </div>\n                                <div className=\"p-field p-grid\">\n\n                                <label htmlFor=\"lastname3\" className=\"p-col-fixed\" style={{ width: '200px' }}>Active Status:</label>\n\n                                <div className=\"p-col\">\n                                    <label htmlFor=\"lastname3\" className=\"p-col-fixed\" style={{ width: '110px' }}>Active:</label>\n                                    <RadioButton value=\"active\" name=\"Active\" onChange={(e) => this.setState({newactive: e.value})} checked={customer.activestatus === 'active'} />\n\n\n                                </div>\n                                <div className=\"p-col\">\n                                    <label htmlFor=\"lastname3\" className=\"p-col-fixed\" style={{ width: '110px' }}>Inactive:</label>\n                                    <RadioButton value=\"inactive\" name=\"Inactive\" onChange={(e) => this.setState({newactive: e.value})} checked={customer.activestatus === 'inactive'} />\n                                </div>\n                                </div>\n                            </div>\n                            <div style={{ minWidth: '50%' }}>\n                                <h3 style={{ marginBlockStart: 0, marginBlockEnd: '0.25em' }}>Contact Information</h3>\n                                <div className=\"p-field p-grid\">\n                                    <label htmlFor=\"firstname3\" className=\"p-col-fixed\" style={{ width: '120px' }}>Residential Hall:</label>\n                                    <div className=\"p-col\">\n                                        <Dropdown  value={this.state.newreshall} options={this.state.planSelectReshall} onChange={(e) => {this.onReshallValueChange(e.target.value);}} placeholder={customer.reshall}/>\n                                    </div>\n                                </div>\n                                <div className=\"p-field p-grid\">\n                                    <label htmlFor=\"lastname3\" className=\"p-col-fixed\" style={{ width: '120px' }}>Email:</label>\n                                    <div className=\"p-col\">\n                                        <InputText type=\"text\" placeholder={customer.email} onChange={(e) => { this.onEmailValueChange(e.target.value); }}/>\n                                    </div>\n                                </div>\n                                <div className=\"p-field p-grid\">\n                                    <label htmlFor=\"lastname3\" className=\"p-col-fixed\" style={{ width: '120px' }}>Phone:</label>\n                                    <div className=\"p-col\">\n                                        <InputText type=\"text\" placeholder={customer.phone} onChange={(e) => { this.onPhoneValueChange(e.target.value); }}/>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <Button type=\"button\" style={{ color: 'white', backgroundColor: '#6a09a4', borderColor: '#6a09a4', marginTop: 30 }} icon=\"pi pi-save\" iconPos=\"left\" label=\"SAVE\" onClick={() => {this.save(customer)}}>\n                        </Button>\n                    </div>\n                </div>\n                );\n            } else {\n                return (\n                    <div style={{display: 'flex'}}>\n                        <div className=\"card card-search\">\n                            <DataTable value={this.state.customers} ref={(el) => { this.dt = el; }} style={{ marginBottom: '20px' }} selectionMode=\"single\"\n                                responsive={true} autoLayout={true} selection={this.state.selectedCustomer} onSelectionChange={e => this.setState({ selectedCustomer: e.value })}>\n                                <Column field=\"id\" header=\"ID\" sortable={true} filter filterPlaceholder=\"Search id\"/>\n                                <Column field=\"name\" header=\"Name\" sortable filter filterPlaceholder=\"Search name\" />\n                            </DataTable>\n                        </div>\n                        <div className=\"card card-list\">  <p className={customer.activestatus} style={{ marginRight: 15 }}>{customer.activestatus}</p>\n                            <h1>{customer.name}</h1>\n                            <div style={{ display: 'flex' }}>\n                                <p className={customer.laundrystatus} style={{ marginRight: 15 }}>{laundryStatusDisplay[customer.laundrystatus]}</p>\n                                <p className={customer.weightstatus} style={{ marginRight: 15 }}>{customer.weightstatus}</p>\n\n                            </div>\n                            <div style={{ display: 'flex' }}>\n                                <div style={{ minWidth: '50%'  }}>\n                                    <h3 style={{ marginBlockStart: 0, marginBlockEnd: '0.25em' }}>Account Information</h3>\n                                    <p style={{ marginBlockStart: 0, marginBlockEnd: '0.25em', paddingRight: 15 }}>Customer ID: {customer.id}</p>\n                                    <p style={{ marginBlockStart: 0, marginBlockEnd: '0.25em', paddingRight: 15 }}>Laundry Plan: {customer.plan}</p>\n                                    <p style={{ marginBlockStart: 0, marginBlockEnd: '0.25em', paddingRight: 15 }}>Max Weight: {customer.maxweight}</p>\n                                    <p style={{ marginBlockStart: 0, marginBlockEnd: '0.25em', paddingRight: 15 }}>Overages: {customer.quarter_overages}</p>\n                                \n                                </div>\n                                <div style={{ minWidth: '50%' }}>\n                                    <h3 style={{ marginBlockStart: 0, marginBlockEnd: '0.25em' }}>Contact Information</h3>\n                                    <p style={{ marginBlockStart: 0, marginBlockEnd: '0.25em', paddingRight: 15 }}>Residential Hall: {customer.reshall}</p>\n                                    <p style={{ marginBlockStart: 0, marginBlockEnd: '0.25em', paddingRight: 15 }}>Email: {customer.email}</p>\n                                    <p style={{ marginBlockStart: 0, marginBlockEnd: '0.25em', paddingRight: 15 }}>Phone: {customer.phone}</p>\n                                </div>\n                            </div>\n                            <Button type=\"button\" style={{ color: 'white', backgroundColor: '#6a09a4', borderColor: '#6a09a4', marginTop: 30 }} icon=\"pi pi-pencil\" iconPos=\"left\" label=\"EDIT\" onClick={this.edit}>\n                            </Button>\n                            {/* <h3 style={{ marginBlockStart: '1em', marginBlockEnd: 0 }}>Bag Weight History</h3> */}\n                            {/* <Chart type=\"line\" data={data} /> */}\n                            {/* <Editor style={{ height: '320px' }} value={this.state.text} onTextChange={(e) => this.setState({ text: e.htmlValue })} /> */}\n                        </div>\n                    </div>\n                );\n            }\n        } else {\n            var header = <div style={{ textAlign: 'left' }}>\n            </div>;\n\n            return (\n                <div style={{ display: 'flex' }}>\n                    <div className=\"card card-search\">\n                        <DataTable value={this.state.customers} ref={(el) => { this.dt = el; }} style={{ marginBottom: '20px' }} selectionMode=\"single\"\n                        responsive={true} autoLayout={true} selection={this.state.selectedCustomer} onSelectionChange={e => this.setState({ selectedCustomer: e.value })}>\n                            <Column field=\"id\" header=\"ID\" sortable={true} filter filterPlaceholder=\"Search id\"/>\n                            <Column field=\"name\" header=\"Name\" sortable filter filterPlaceholder=\"Search name\" />\n                        </DataTable>\n                    </div>\n                    <div className=\"card card-list\">\n                        <h1>Select a Customer</h1>\n                    </div>\n                </div>\n            );\n        }\n\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}